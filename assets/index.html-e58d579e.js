import{_ as n,o as s,c as a,e as t}from"./app-78621c03.js";const p="/StarsectorNihilismGuidance/assets/GearIn_stable_injector-558e9fd3.png",e="/StarsectorNihilismGuidance/assets/hullmod_play-d0d78c00.png",c={},o=t(`<h1 id="制作舰船插件" tabindex="-1"><a class="header-anchor" href="#制作舰船插件" aria-hidden="true">#</a> 制作舰船插件</h1><p><em>本节预期阅读时间：~15 分钟。</em></p><p><em>本节预期操作时间：~15 分钟。</em></p><h2 id="制作舰船插件数据" tabindex="-1"><a class="header-anchor" href="#制作舰船插件数据" aria-hidden="true">#</a> 制作舰船插件数据</h2><p>舰船插件数据在<code>data/hullmods</code>文件夹的<code>hull_mods.csv</code>中，框架已经提供了一份相对干净的副本。</p><h3 id="实用舰船插件数据速查表" tabindex="-1"><a class="header-anchor" href="#实用舰船插件数据速查表" aria-hidden="true">#</a> 实用舰船插件数据速查表</h3><table><thead><tr><th>英文</th><th>实际意义</th></tr></thead><tbody><tr><td>name</td><td>舰船插件的名称</td></tr><tr><td>id</td><td>舰船插件 ID</td></tr><tr><td>tier</td><td>科技等级，和前文其它的<code>tier</code>意义相同。正常范围是 0~3，大于 3 将导致不会在市场上正常出现。科技等级越大则越稀有且购买所需关系越高。</td></tr><tr><td>rarity</td><td>稀有度，和前文其它的<code>rarity</code>意义相同。数字越小越罕见，大于 1 时被视为 1，小于 0 时被视为 0</td></tr><tr><td>tech/manufacturer</td><td>科技类型，原版包括诸如 核心纪元、主宰纪元 等，可随意填写</td></tr><tr><td>tags</td><td>进阶内容，可随意编纂，后文详细解释</td></tr><tr><td>uiTags</td><td>在装配界面的文字分组，直接填写可读的文字。建议参考原版各类插件的<code>uiTags</code></td></tr><tr><td>base value</td><td>舰船插件的的成本价</td></tr><tr><td>unlocked</td><td>如果设为 TRUE，则玩家默认拥有此插件，否则需要在市场上购买</td></tr><tr><td>hidden</td><td>如果设为 TRUE，则市场上不会刷新此插件，否则可能在妥善设置后刷新</td></tr><tr><td>hiddenEverywhere</td><td>如果设为 TRUE，则此插件将被彻底隐藏，即使被安装在舰船上也不会显示</td></tr><tr><td>cost_*</td><td>护卫舰、驱逐舰、巡洋舰、主力舰的装配点数消耗，不可为空，即使是为内置考虑也应填 0</td></tr><tr><td>script</td><td>舰船插件的代码文件路径</td></tr><tr><td>desc</td><td>舰船插件的描述文本，使用 %s 控制高亮标签</td></tr><tr><td>short</td><td>舰船插件的一句话简短描述</td></tr><tr><td>sprite</td><td>舰船插件的贴图文件路径</td></tr></tbody></table><p>对于初学者阶段，插件制作依然建议以简单为主，尽量先熟悉基本结构，再为日后更为复杂的插件制作进行准备。</p><p>在本例，编者将制作一个<code>稳定化推进器</code>，大致上是<code>不稳定推进器</code>的调整版，用幅度更小的加成来取消射程惩罚和甲板惩罚。将<code>不稳定推进器</code>的相关内容从对应<code>hullmods.csv</code>中复制并修改：</p><div class="language-csv line-numbers-mode" data-ext="csv"><pre class="language-csv"><code><span class="token value">name</span><span class="token punctuation">,</span><span class="token value">id</span><span class="token punctuation">,</span><span class="token value">tier</span><span class="token punctuation">,</span><span class="token value">rarity</span><span class="token punctuation">,</span><span class="token value">tech/manufacturer</span><span class="token punctuation">,</span><span class="token value">tags</span><span class="token punctuation">,</span><span class="token value">uiTags</span><span class="token punctuation">,</span><span class="token value">base value</span><span class="token punctuation">,</span><span class="token value">unlocked</span><span class="token punctuation">,</span><span class="token value">hidden</span><span class="token punctuation">,</span><span class="token value">hiddenEverywhere</span><span class="token punctuation">,</span><span class="token value">cost_frigate</span><span class="token punctuation">,</span><span class="token value">cost_dest</span><span class="token punctuation">,</span><span class="token value">cost_cruiser</span><span class="token punctuation">,</span><span class="token value">cost_capital</span><span class="token punctuation">,</span><span class="token value">script</span><span class="token punctuation">,</span><span class="token value">desc</span><span class="token punctuation">,</span><span class="token value">short</span><span class="token punctuation">,</span><span class="token value">sprite</span>
<span class="token value">稳定化推进器</span><span class="token punctuation">,</span><span class="token value">GearIn_stable_injector</span><span class="token punctuation">,</span><span class="token value">0</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token value">&quot;engines, merc&quot;</span><span class="token punctuation">,</span><span class="token value">引擎</span><span class="token punctuation">,</span><span class="token value">2500</span><span class="token punctuation">,</span><span class="token value">TRUE</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token value">5</span><span class="token punctuation">,</span><span class="token value">10</span><span class="token punctuation">,</span><span class="token value">15</span><span class="token punctuation">,</span><span class="token value">25</span><span class="token punctuation">,</span><span class="token value">data.hullmods.GearIn_StableInjector</span><span class="token punctuation">,</span><span class="token value">&quot;提高舰船最大速度 %s/%s/%s/%s ，不兼容 不稳定推进器。&quot;</span><span class="token punctuation">,</span><span class="token value">&quot;提高舰船最大速度。&quot;</span><span class="token punctuation">,</span><span class="token value">graphics/hullmods/GearIn_stable_injector.png</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>当然别忘了应该放在对应路径下的贴图：</p><p><img src="`+p+`" alt=""></p><p>然后将<code>UnstableInjector.java</code>从原文件中复制到 MOD 文件夹的<code>data/hullmods</code>同路径下，文件名修改为<code>GearIn_StableInjector</code>，开始进行简单解析：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">data<span class="token punctuation">.</span>hullmods</span><span class="token punctuation">;</span> <span class="token comment">// 路径</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span> <span class="token comment">// 类似的 import 结构</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">BaseHullMod</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">MutableShipStatsAPI</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">ShipAPI</span><span class="token punctuation">.</span><span class="token class-name">HullSize</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UnstableInjector</span> <span class="token keyword">extends</span> <span class="token class-name">BaseHullMod</span> <span class="token punctuation">{</span> <span class="token comment">// 似曾相识的结构，这里似乎应该改为文件名</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span> mag <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这是什么？</span>
	<span class="token keyword">static</span> <span class="token punctuation">{</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">FRIGATE</span><span class="token punctuation">,</span> <span class="token number">25f</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 似乎是舰船等级和数据的对应</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">DESTROYER</span><span class="token punctuation">,</span> <span class="token number">20f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CRUISER</span><span class="token punctuation">,</span> <span class="token number">15f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CAPITAL_SHIP</span><span class="token punctuation">,</span> <span class="token number">15f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">float</span> <span class="token constant">RANGE_MULT</span> <span class="token operator">=</span> <span class="token number">0.85f</span><span class="token punctuation">;</span> <span class="token comment">// 似乎是射程的倍率</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">float</span> <span class="token constant">FIGHTER_RATE</span> <span class="token operator">=</span> <span class="token number">25f</span><span class="token punctuation">;</span> <span class="token comment">// 战机？推测为整备时间</span>
	
	<span class="token comment">//private static final float ACCELERATION_BONUS = 100f; // 不会生效的注释</span>
	<span class="token comment">//private static final float EXTRA_DAMAGE = 300f;</span>
	<span class="token comment">//private static final int BURN_LEVEL_BONUS = 1;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyEffectsBeforeShipCreation</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span> hullSize<span class="token punctuation">,</span> <span class="token class-name">MutableShipStatsAPI</span> stats<span class="token punctuation">,</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		stats<span class="token punctuation">.</span><span class="token function">getMaxSpeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyFlat</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>hullSize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对最大速度进行加成？</span>
		stats<span class="token punctuation">.</span><span class="token function">getBallisticWeaponRangeBonus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyMult</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token constant">RANGE_MULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 降低实弹武器射程？</span>
		stats<span class="token punctuation">.</span><span class="token function">getEnergyWeaponRangeBonus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyMult</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token constant">RANGE_MULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 降低能量武器射程？</span>
		
		stats<span class="token punctuation">.</span><span class="token function">getFighterRefitTimeMult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyPercent</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token constant">FIGHTER_RATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 降低战机整备速率？</span>
		
		<span class="token comment">//stats.getAcceleration().modifyPercent(id, ACCELERATION_BONUS); // 不会生效的注释</span>
		<span class="token comment">//stats.getEngineDamageTakenMult().modifyPercent(id, EXTRA_DAMAGE);</span>
		
		<span class="token comment">//stats.getMaxBurnLevel().modifyFlat(id, BURN_LEVEL_BONUS);</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescriptionParam</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">HullSize</span> hullSize<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 高亮文本相关的内容</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">FRIGATE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 似曾相识的 index 0 1 2</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">DESTROYER</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 也许这里控制高亮</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CRUISER</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CAPITAL_SHIP</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1f</span> <span class="token operator">-</span> <span class="token constant">RANGE_MULT</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100f</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token constant">FIGHTER_RATE</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//		if (index == 4) return &quot;&quot; + (int) ACCELERATION_BONUS;</span>
<span class="token comment">//		//if (index == 5) return &quot;four times&quot;;</span>
<span class="token comment">//		if (index == 5) return &quot;4&quot; + Strings.X;</span>
<span class="token comment">//		if (index == 6) return &quot;&quot; + BURN_LEVEL_BONUS;</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后大概就知道怎么改了：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">data<span class="token punctuation">.</span>hullmods</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">BaseHullMod</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">MutableShipStatsAPI</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">ShipAPI</span><span class="token punctuation">.</span><span class="token class-name">HullSize</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Global</span></span><span class="token punctuation">;</span> <span class="token comment">// 新的 import</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>starfarer<span class="token punctuation">.</span>api<span class="token punctuation">.</span>combat<span class="token punctuation">.</span></span><span class="token class-name">ShipAPI</span></span><span class="token punctuation">;</span> <span class="token comment">// 新的 import</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GearIn_StableInjector</span> <span class="token keyword">extends</span> <span class="token class-name">BaseHullMod</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span> mag <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">static</span> <span class="token punctuation">{</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">FRIGATE</span><span class="token punctuation">,</span> <span class="token number">15f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">DESTROYER</span><span class="token punctuation">,</span> <span class="token number">10f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CRUISER</span><span class="token punctuation">,</span> <span class="token number">5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mag<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CAPITAL_SHIP</span><span class="token punctuation">,</span> <span class="token number">5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	


	
	<span class="token comment">//private static final float ACCELERATION_BONUS = 100f;</span>
	<span class="token comment">//private static final float EXTRA_DAMAGE = 300f;</span>
	<span class="token comment">//private static final int BURN_LEVEL_BONUS = 1;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyEffectsBeforeShipCreation</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span> hullSize<span class="token punctuation">,</span> <span class="token class-name">MutableShipStatsAPI</span> stats<span class="token punctuation">,</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		stats<span class="token punctuation">.</span><span class="token function">getMaxSpeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyFlat</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>hullSize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


		

		
		<span class="token comment">//stats.getAcceleration().modifyPercent(id, ACCELERATION_BONUS);</span>
		<span class="token comment">//stats.getEngineDamageTakenMult().modifyPercent(id, EXTRA_DAMAGE);</span>
		
		<span class="token comment">//stats.getMaxBurnLevel().modifyFlat(id, BURN_LEVEL_BONUS);</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescriptionParam</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">HullSize</span> hullSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">FRIGATE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">DESTROYER</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CRUISER</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> mag<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">HullSize</span><span class="token punctuation">.</span><span class="token constant">CAPITAL_SHIP</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//		if (index == 4) return &quot;&quot; + (int) ACCELERATION_BONUS;</span>
<span class="token comment">//		//if (index == 5) return &quot;four times&quot;;</span>
<span class="token comment">//		if (index == 5) return &quot;4&quot; + Strings.X;</span>
<span class="token comment">//		if (index == 6) return &quot;&quot; + BURN_LEVEL_BONUS;</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    
 	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyEffectsAfterShipCreation</span><span class="token punctuation">(</span><span class="token class-name">ShipAPI</span> ship<span class="token punctuation">,</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 抄来的不兼容</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>ship<span class="token punctuation">.</span><span class="token function">getVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHullMods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;unstable_injector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">Global</span><span class="token punctuation">.</span><span class="token function">getSoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">playUISound</span><span class="token punctuation">(</span><span class="token string">&quot;cr_allied_warning&quot;</span><span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			ship<span class="token punctuation">.</span><span class="token function">getVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeMod</span><span class="token punctuation">(</span><span class="token string">&quot;GearIn_stable_injector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 改成本插件的 id</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
    <span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isApplicableToShip</span><span class="token punctuation">(</span><span class="token class-name">ShipAPI</span> ship<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 从黄定位里抄来的不兼容</span>
		<span class="token keyword">return</span> <span class="token operator">!</span>ship<span class="token punctuation">.</span><span class="token function">getVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHullMods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;unstable_injector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUnapplicableReason</span><span class="token punctuation">(</span><span class="token class-name">ShipAPI</span> ship<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 从黄定位里抄来的不兼容</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>ship<span class="token punctuation">.</span><span class="token function">getVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHullMods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;unstable_injector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token string">&quot;不兼容 不稳定推进器&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改类名，调整数据，删去了需要删去的内容。</p><h2 id="插件实装" tabindex="-1"><a class="header-anchor" href="#插件实装" aria-hidden="true">#</a> 插件实装</h2><p><img src="`+e+'" alt=""></p><h2 id="实用舰船插件-tags-速查表" tabindex="-1"><a class="header-anchor" href="#实用舰船插件-tags-速查表" aria-hidden="true">#</a> 实用舰船插件 tags 速查表</h2><p><strong>不在本表上的数据均为与舰船插件本身性能无关的 tags(如 merc)，关于这些 tags 详见后文。</strong></p><table><thead><tr><th>英文</th><th>实际意义</th></tr></thead><tbody><tr><td>offensive</td><td>当进行自动装配时，AI 将认为这是对综合进攻能力有直接增益的插件</td></tr><tr><td>defensive</td><td>当进行自动装配时，AI 将认为这是对综合防御能力有直接增益的插件</td></tr><tr><td>shields</td><td>当进行自动装配时，AI 将认为这是对护盾有直接增益的插件</td></tr><tr><td>engines</td><td>当进行自动装配时，AI 将认为这是对移动能力有直接增益的插件</td></tr><tr><td>phase</td><td>当进行自动装配时，AI 将认为这是对相位能力有直接增益的插件</td></tr><tr><td>non_phase</td><td>当进行自动装配时，AI 将认为这是不建议安装在相位舰船上的插件</td></tr><tr><td>special</td><td>当进行自动装配时，AI 倾向于不随意移除或安装它</td></tr><tr><td>req_spaceport</td><td>必须在空间站或殖民地才可安装，不可随地拔插</td></tr><tr><td>no_build_in</td><td>不可使用故事点内置</td></tr><tr><td></td><td><strong>下列 tags 是 D 插独有的</strong></td></tr><tr><td>dmod</td><td>这是 D 插</td></tr><tr><td>damage</td><td>这是通常型 D 插(实际上意义不大，只需要设置<code>dmod</code>即可)</td></tr><tr><td>damageStruct</td><td>这个 D 插出现的概率异常地高</td></tr><tr><td>destroyedDamageAlways</td><td>如果这艘船在战斗中粉碎，则极大概率得到本 D 插</td></tr><tr><td>peak_time</td><td>这个 D 插只会出现在峰值不为无限的舰船上</td></tr><tr><td>reqShields</td><td>这个 D 插只会出现在带有护盾的舰船上</td></tr><tr><td>civOnly</td><td>这个 D 插只会出现在民用船上</td></tr><tr><td>fighterBayDamage</td><td>这个 D 插只会出现在本身自带甲板的舰船上</td></tr><tr><td>phaseDamage</td><td>这个 D 插只会出现在相位船上</td></tr><tr><td>notPhase</td><td>这个 D 插不会出现在相位船上</td></tr><tr><td>notAuto</td><td>这个 D 插不会出现在无人舰船上</td></tr></tbody></table>',22),l=[o];function i(u,k){return s(),a("div",null,l)}const r=n(c,[["render",i],["__file","index.html.vue"]]);export{r as default};
